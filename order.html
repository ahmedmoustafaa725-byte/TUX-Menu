<!doctype html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>TUX — Order Online</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="topbar">
    <div class="container bar">
      <a href="index.html" class="brand" aria-label="TUX Home">
        <img src="assets/img/logo.jpg" alt="TUX logo" class="brand__logo">
        <div class="brand__text">
          <div class="brand__title">TUX</div>
          <div class="brand__tag">Burgers Worth The Chase …</div>
        </div>
      </a>
      <nav class="nav">
        <a href="index.html#menu">Menu</a>
        <a href="index.html#gallery">Gallery</a>
        <a href="index.html#location">Location</a>
        <a href="index.html#contact">Contact</a>
        <a href="order.html" id="orderLink" class="cta green">Order Online</a>
        <a href="account.html" id="accountLink" class="cta gold">Login / Sign up</a>
        <a href="#" id="logoutLink" style="display:none">Log out</a>
        <a class="cta blue" href="https://forms.gle/rKJoUeHkgLoqTmmXA" target="_blank" rel="noreferrer">Help Us Improve</a>
      </nav>
    </div>
  </header>

  <nav class="quick-nav" aria-label="Quick access">
    <a href="order.html" id="orderLinkMobile" class="btn green">Order Online</a>
    <a href="account.html" id="accountLinkMobile" class="btn">Login / Sign up</a>
    <a href="index.html#menu">Menu</a>
    <a href="index.html#gallery">Gallery</a>
    <a href="index.html#location">Location</a>
    <a href="index.html#contact">Contact</a>
  </nav>

  <main class="section">
    <div class="container" style="max-width:760px">
      <header class="section__head">
        <h2>Order Online</h2>
        <p class="muted">Place a pickup or delivery order in seconds. We’ll use your saved details so you can check out faster.</p>
      </header>

      <div class="grid2 order-layout">
        <div class="panel">
          <form id="orderForm" data-sync-collection="restaurants/tux/onlineOrders" data-sync-restaurant="tux" data-sync-webhook="" data-settings-doc="config/orderForm">

            <!-- === CORRECTED CUSTOMER DETAILS SECTION === -->
            <div class="form-field">
              <label for="orderName">Full Name</label>
              <input type="text" id="orderName" class="form-field" required placeholder="Full name" />
            </div>

            <div class="order-options" role="group" aria-label="Order type">
              <label><input type="radio" name="fulfillment" value="pickup" checked /> Pickup</label>
              <label><input type="radio" name="fulfillment" value="delivery" /> Delivery</label>
            </div>

            <div class="form-field">
              <label for="orderAddress">Delivery address</label>
              <input id="orderAddress" class="form-field" type="text" placeholder="Street, City (required for delivery)" />
            </div>

            <div class="form-field" id="deliveryZoneField" style="display:none">
              <label for="deliveryZone">Delivery zone</label>
              <select id="deliveryZone" class="form-field">
                <option value="" selected disabled>Select your delivery zone</option>
                <option value="zahraa-el-maadi">Zahraa El Maadi — EGP 25</option>
                <option value="kornish-el-maadi">Kornish El Maadi — EGP 40</option>
              </select>
            </div>
            <p class="muted small" id="deliveryZoneNote" style="display:none">Delivery fees are added based on the selected zone.</p>

            <div class="form-field">
              <label for="orderPhone">Phone Number</label>
              <div class="phone-input">
                <span class="phone-input__prefix">+20</span>
                <input type="tel" id="orderPhone" class="form-field phone-input__field" required pattern="^\d{10}$" inputmode="numeric" maxlength="10" title="Enter the 10 digits after +20" placeholder="Phone number (10 digits)" />
              </div>
            </div>

            <div class="form-field">
              <label for="orderEmail">Email Address</label>
              <input type="email" id="orderEmail" class="form-field" placeholder="name@example.com" required />
              <small class="muted">We'll send your order confirmation here.</small>
            </div>
            <!-- === END OF CORRECTED SECTION === -->


            <fieldset class="order-fieldset" aria-labelledby="paymentLegend">
              <legend id="paymentLegend">Payment method</legend>
          <p class="muted small">We accept cash and Instapay for both pickup and delivery. Feel free to split your total between them.</p>
              <div class="split-payment">
                <div class="split-payment__option">
                  <label class="split-payment__toggle">
                    <input type="checkbox" id="paymentCash" checked>
                    <span>Cash</span>
                  </label>
                  <label class="split-payment__amount">
                    Cash amount
                    <input
                      id="cashAmount"
                      class="form-field"
                      type="number"
                      min="0"
                      step="0.5"
                      inputmode="decimal"
                      placeholder="0"
                    >
                  </label>
                </div>
                <div class="split-payment__option">
                  <label class="split-payment__toggle">
                    <input type="checkbox" id="paymentInstapay">
                    <span>Instapay</span>
                  </label>
                  <label class="split-payment__amount">
                    Instapay amount
                    <input
                      id="instapayAmount"
                      class="form-field"
                      type="number"
                      min="0"
                      step="0.5"
                      inputmode="decimal"
                      placeholder="0"
                    >
                  </label>
                </div>
                <p class="muted small split-payment__hint">Enter how much you’ll pay with each method — the amounts should add up to your order total.</p>
              </div>
            </fieldset>

            <label class="order-notes-label">Any notes for us?
              <textarea id="orderNotes" class="form-field order-notes" placeholder="Add sauce preferences, entrance instructions, etc."></textarea>
            </label>

            <textarea id="orderItems" class="form-field" hidden></textarea>

            <button id="orderSubmit" class="btn green" type="submit">Place order</button>
            <div id="orderStatus" class="muted"></div>
          </form>
        </div>

        <aside class="panel panel--cart" aria-live="polite">
          <h3>Your cart</h3>
          <p id="emptyCart" class="muted">Pick your favorites from the menu to start an order.</p>
          <ul id="cartItems" class="cart-list"></ul>
          <div class="cart-summary">
            <div class="cart-summary__row">
              <div>Subtotal</div>
              <div id="cartSubtotal">EGP 0.00</div>
            </div>
            <div class="cart-summary__row" id="deliveryFeeRow">
              <div>Delivery fee</div>
              <div id="cartDeliveryFee">EGP 0.00</div>
            </div>
            <div class="cart-summary__row cart-summary__row--total">
              <div>Total</div>
              <div id="cartTotal">EGP 0.00</div>
            </div>
          </div>
          <button id="clearCart" class="btn outline" type="button">Clear cart</button>
        </aside>
      </div>

      <div class="panel panel--menu">
        <h3>Menu</h3>
        <p class="muted">Tap an item to add it to your order. Extras are optional and priced per sandwich.</p>
        <div id="menuList" class="menu-groups"></div>
      </div>

      <div class="panel">
        <h3>Your recent orders</h3>
        <p id="noOrders" class="muted">Once you place an order you’ll find it here.</p>
        <ul id="recentOrders" class="order-history"></ul>
      </div>
    </div>
  </main>

  <footer class="footer">
    <div class="container footer__row">
      <div class="footer__brand">
        <img src="assets/img/logo.jpg" alt="TUX" class="footer__logo">
        <span>© 2025 TUX — Egypt</span>
      </div>
      <a class="footer__link" href="https://maps.app.goo.gl/V8U4SKzMqHvT5o2m7" target="_blank" rel="noreferrer">
        El-Saada St – Zahraa El-Maadi • Open in Maps
      </a>
    </div>
  </footer>

  <script type="module" src="nav.js"></script>
  <script type="module" src="order.js"></script>
</body>
</html>
